<app-header [title]="title"></app-header>
<app-banner></app-banner>

<div class="global-container">


    <form [formGroup]="profilForm" class="container">
        <p class="container_title">Profil {{user.username}}</p>

        <mat-error *ngIf="passwordIsFalse">
            Votre mot de passe est incorrect
        </mat-error>
        <div class="container_password">
            <mat-form-field class="container_bound">
                <input type="password" class="container_password_input" [formControl]=" oldPasswordCtrl " matInput placeholder="Ancien mot de passe ">
                <mat-error *ngIf="passwordCtrl.dirty && passwordCtrl.hasError('required')">
                    Le champ mot de passe est requis
                </mat-error>
                <mat-error *ngIf="passwordCtrl.dirty && passwordCtrl.hasError('pattern')">
                    Le mot de passe doit contenir une majuscule, une minuscule, un chiffre et 8 caractère
                </mat-error>
            </mat-form-field>
        </div>

        <div class="container_password">
            <mat-form-field class="container_bound">
                <input type="password" class="container_password_input" [formControl]=" passwordCtrl " matInput placeholder="Mot de passe ">
                <mat-error *ngIf="passwordCtrl.dirty && passwordCtrl.hasError('required')">
                    Le champ mot de passe est requis
                </mat-error>
                <mat-error *ngIf="passwordCtrl.dirty && passwordCtrl.hasError('pattern')">
                    Le mot de passe doit contenir une majuscule, une minuscule, un chiffre et 8 caractère
                </mat-error>
            </mat-form-field>
        </div>

        <div class="container_confirmationPassword">
            <mat-form-field class="container_bound ">
                <input type="password" class="container_confirmationPassword_input" [formControl]="confirmationPasswordCtrl " matInput placeholder="Confirmer le mot de passe ">
                <mat-error *ngIf="confirmationPasswordCtrl.dirty && confirmationPasswordCtrl.hasError('required')">
                    La confirmation est requise
                </mat-error>
                <mat-error *ngIf="confirmationPasswordCtrl.dirty && confirmationPasswordCtrl.hasError('matcher')">
                    le mot de passe doit etre identique
                </mat-error>
            </mat-form-field>
        </div>

        <div class="container_email">
            <mat-form-field class="container_bound ">
                <input type="text" class="container_email_input" [formControl]="emailCtrl " matInput placeholder="Email ">
                <mat-error *ngIf="emailCtrl.dirty && emailCtrl.hasError('email')">
                    Le champ email n'est pas valide
                </mat-error>
                <mat-error *ngIf="emailCtrl.dirty && emailCtrl.hasError('required')">
                    Le champ email est requis
                </mat-error>
            </mat-form-field>
        </div>

        <div class="container_buttons">
            <mat-button-toggle (click)="cancel()" class="container_validadedbutton container_button">
                <p class="container_button_paragraph">Annuler</p>
            </mat-button-toggle>
            <mat-button-toggle (click)="submit()" class="container_canceledbutton container_button" [disabled]="profilForm.invalid ">
                <p class="container_button_paragraph">Valider</p>
            </mat-button-toggle>
        </div>

    </form>
</div>